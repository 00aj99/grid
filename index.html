<html>
<head>
  <link rel="stylesheet" type="text/css" href="http://gridster.net/dist/jquery.gridster.css">
  <link rel="stylesheet" type="text/css" href="http://gridster.net/demos/assets/demo.css">
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
  <script type="text/javascript" src="https://rawgithub.com/ducksboard/gridster.js/master/dist/jquery.gridster.js"></script>
  <script src="lib/grid.js"></script>
  <script>
var GRID_ITEM_TYPES = {
  widget1x1: [1, 1, false],
  widget2x1: [2, 1, false],
  widget3x1: [3, 1, false],
  timeline1x: [1, 4, false],
  timeline2x: [2, 4, false],
  timeline3x: [3, 4, false]
};
var itemsGrid1 = [
  GRID_ITEM_TYPES.widget1x1,
  GRID_ITEM_TYPES.widget2x1,
  GRID_ITEM_TYPES.widget1x1,
  GRID_ITEM_TYPES.widget1x1,
  GRID_ITEM_TYPES.widget2x1,
  GRID_ITEM_TYPES.widget3x1,
  GRID_ITEM_TYPES.timeline1x,
  GRID_ITEM_TYPES.widget1x1,
  GRID_ITEM_TYPES.widget1x1,
  GRID_ITEM_TYPES.widget2x1,
  GRID_ITEM_TYPES.widget1x1,
  GRID_ITEM_TYPES.widget1x1,
  GRID_ITEM_TYPES.timeline1x,
  GRID_ITEM_TYPES.widget1x1
];
var buildGridElements = function($gridContainer, items) {
  var i, item, rows, cols;
  for (i = 0; i < items.length; i++) {
    item = items[i];
    $item = $(
      '<li data-sizex="' + item[0] + '" ' +
          'data-sizey="' + item[1] + '" ' +
          'data-index="' + i + '">' +
          (i + 1) +
      '</li>');
    $gridContainer.append($item);
  }
};
$(function() {
  var items = [], item, i;

  // 1. Build DOM elements with size and index
  buildGridElements($('#grid1 > ul'), itemsGrid1);

  // 2. Read DOM elements and generate 2d positions on a virtual grid, using
  // our proprietary formula
  $('#grid1 > ul > li').each(function(i, li) {
    item = {
      cols: $(li).data('sizex'),
      rows: $(li).data('sizey'),
      index: $(li).data('index')
    }
    item.$element = $(li);
    items.push(item);
  });
  myGrid = new Grid(items, {colsPerGroup: 3, rows: 4});
  myGrid.generatePositionsFromIndex();

  // 3. Read 2d positions generate and embed coordonates in each item, in the
  // format gridster expects
  for (i = 0; i < items.length; i++) {
    item = items[i];
    item.$element.attr('data-col', item.position[0] + 1);
    item.$element.attr('data-row', item.position[1] + 1);
  }

  // 4. Init gridster on a DOM list with size and coordonates already preset
  var gridster = $("#grid1 > ul").gridster({
    widget_margins: [5, 5],
    widget_base_dimensions: [80, 80]
  });
});
  </script>
</head>
<body>
  <div id="grid1" class="gridster">
    <ul></ul>
  </div>
</body>
